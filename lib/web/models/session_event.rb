module Web
  module Models
    # An event that occurred inside a module session.
    class SessionEvent < Sequel::Model
      plugin :validation_helpers
      plugin :enum

      many_to_one :session

      enum :level, [:info, :success, :warning, :error, :table, :socket, :socket_input]

      def validate
        super
        validates_presence [:message, :level]
      end
    end
  end
end
