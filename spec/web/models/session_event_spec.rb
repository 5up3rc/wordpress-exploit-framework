require_relative '../../spec_helper'

describe Web::Models::SessionEvent, type: :model do
  it 'belongs to a session' do
    is_expected.to have_many_to_one :session
  end

  it 'defines an enum for level' do
    event = Web::Models::SessionEvent.new

    [:info, :success, :warning, :error, :table, :socket, :socket_input].each_with_index do |item, index|
      event[:level] = index
      expect(event.level).to eq item
    end
  end

  it 'validates the presence of level' do
    is_expected.to validate_presence :level
  end
end
